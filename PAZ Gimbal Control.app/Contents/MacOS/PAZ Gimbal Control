#!/bin/bash
# PAZ Gimbal Control - macOS Application Launcher

# Fixed project directory path
PROJECT_DIR="/Users/alexmacbookair/Documents/Code/PAZ_Gimbal_Control"

# Use osascript to run in Terminal (bypasses sandbox restrictions)
osascript << EOF
tell application "Terminal"
    activate
    do script "cd '$PROJECT_DIR' && echo 'ğŸš€ Starting PAZ Gimbal Control...' && pkill -f 'zt_bridge.py' 2>/dev/null; pkill -f 'vite preview' 2>/dev/null; sleep 1 && echo 'ğŸ“¡ Starting gimbal server...' && python3 server/zt_bridge.py --virtual & sleep 3 && echo 'ğŸŒ Starting web server...' && npm run preview & echo 'â³ Waiting for servers to start...' && sleep 5 && echo 'ğŸ”— Opening browser...' && open http://localhost:4173 && echo '' && echo 'âœ… PAZ Gimbal Control is running!' && echo '   Web UI: http://localhost:4173' && echo '   Press Ctrl+C to stop'"
end tell
EOF
